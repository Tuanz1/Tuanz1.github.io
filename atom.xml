<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>AIKO</title>
  
  <subtitle>StandAlone</subtitle>
  <link href="http://standalone.pub:4000/atom.xml" rel="self"/>
  
  <link href="http://standalone.pub:4000/"/>
  <updated>2020-10-21T15:49:19.558Z</updated>
  <id>http://standalone.pub:4000/</id>
  
  <author>
    <name>Rick Lee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MarkDown</title>
    <link href="http://standalone.pub:4000/markdown/"/>
    <id>http://standalone.pub:4000/markdown/</id>
    <published>2020-12-02T07:34:37.895Z</published>
    <updated>2020-10-21T15:49:19.558Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Hexo 博客 Shoka 主题支持的 Markdown 一些特殊的语法使用例子。</p><h2 id="code代码块"><a class="anchor" href="#code代码块">#</a>  <code>code</code>  代码块</h2><p>使用  <code>markdown-it-prism</code>  进行代码高亮，支持显示行号、行高亮  <code>mark</code>  、命令行提示符  <code>command</code>  、代码块标题。</p><p>基本格式： <code>[language] [title] [url] [link text] [mark] [command]</code></p><table><thead><tr><th>选项</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>language</td><td>支持的语言<span class="exturl" data-url="aHR0cHM6Ly9wcmlzbWpzLmNvbS8jc3VwcG9ydGVkLWxhbmd1YWdlcw==">戳此</span>如果不需要代码高亮，但希望显示代码块样式，则设为  <code>raw</code>  , 留空或设为 info ，将不显示代码高亮和代码块样式</td><td>null</td></tr><tr><td>title</td><td>代码块的标题文字</td><td>null</td></tr><tr><td>url</td><td>代码块标题右侧显示的链接</td><td>null</td></tr><tr><td>link text</td><td>上述链接显示的标题</td><td>link</td></tr><tr><td>mark</td><td>行高亮显示，格式为  <code>mark</code> : 行号，行号开始 - 行号结束，其他行号 。例如  <code>mark:1,4-7,10</code>  ，将高亮显示第 1、4、5、6、7、10 行</td><td>null</td></tr><tr><td>command</td><td>命令行提示符，格式为  <code>command:(&quot;提示内容&quot;:行号,行号||&quot;提示内容&quot;:行号开始-行号结束)</code>  例如  <code>command:(&quot;[root@localhost] $&quot;:1,9-10||&quot;[admin@remotehost] #&quot;:4-6)</code></td><td>null</td></tr></tbody></table><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>java 行高亮 https:&#x2F;&#x2F;shoka.lostyu.me 参考链接 mark:1,6-7</pre></td></tr><tr><td data-num="2"></td><td><pre>import java.util.Scanner;</pre></td></tr><tr><td data-num="3"></td><td><pre>...</pre></td></tr><tr><td data-num="4"></td><td><pre>Scanner in &#x3D; new Scanner (System.in);</pre></td></tr><tr><td data-num="5"></td><td><pre>&#x2F;&#x2F; 输入 Scan 之后，按下键盘 Alt + “&#x2F;” 键，Eclipse 下自动补全。</pre></td></tr><tr><td data-num="6"></td><td><pre>System.out.println (in.nextLine ());</pre></td></tr><tr><td data-num="7"></td><td><pre>System.out.println (&quot;Hello&quot; + &quot;world.&quot;);</pre></td></tr></table></figure><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>bash 命令行提示符 command:(&quot;[root@localhost] $&quot;:1,9-10||&quot;[admin@remotehost] #&quot;:4-6)</pre></td></tr><tr><td data-num="2"></td><td><pre>pwd</pre></td></tr><tr><td data-num="3"></td><td><pre>&#x2F;usr&#x2F;home&#x2F;chris&#x2F;bin</pre></td></tr><tr><td data-num="4"></td><td><pre>ls -la</pre></td></tr><tr><td data-num="5"></td><td><pre>total 2</pre></td></tr><tr><td data-num="6"></td><td><pre>drwxr-xr-x   2 chris  chris     11 Jan 10 16:48 .</pre></td></tr><tr><td data-num="7"></td><td><pre>drwxr--r-x  45 chris  chris     92 Feb 14 11:10 ..</pre></td></tr><tr><td data-num="8"></td><td><pre>-rwxr-xr-x   1 chris  chris    444 Aug 25  2013 backup</pre></td></tr><tr><td data-num="9"></td><td><pre>-rwxr-xr-x   1 chris  chris    642 Jan 17 14:42 deploy</pre></td></tr><tr><td data-num="10"></td><td><pre>git add -A</pre></td></tr><tr><td data-num="11"></td><td><pre>git commit -m &quot;update&quot;</pre></td></tr><tr><td data-num="12"></td><td><pre>git push</pre></td></tr></table></figure><p>实际的显示效果</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">Scanner</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 输入 Scan 之后，按下键盘 Alt + “/” 键，Eclipse 下自动补全。</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello"</span> <span class="token operator">+</span> <span class="token string">" world."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"><span>命令行提示符</span></figcaption><table><tr><td data-num="1"></td><td data-command="[root@localhost] $"></td><td><pre><span class="token builtin class-name">pwd</span></pre></td></tr><tr><td data-num="2"></td><td data-command=""></td><td><pre>/usr/home/chris/bin</pre></td></tr><tr><td data-num="3"></td><td data-command=""></td><td><pre><span class="token function">ls</span> -la</pre></td></tr><tr><td data-num="4"></td><td data-command="[admin@remotehost] #"></td><td><pre>total <span class="token number">2</span></pre></td></tr><tr><td data-num="5"></td><td data-command="[admin@remotehost] #"></td><td><pre>drwxr-xr-x   <span class="token number">2</span> chris  chris     <span class="token number">11</span> Jan <span class="token number">10</span> <span class="token number">16</span>:48 <span class="token builtin class-name">.</span></pre></td></tr><tr><td data-num="6"></td><td data-command="[admin@remotehost] #"></td><td><pre>drwxr--r-x  <span class="token number">45</span> chris  chris     <span class="token number">92</span> Feb <span class="token number">14</span> <span class="token number">11</span>:10 <span class="token punctuation">..</span></pre></td></tr><tr><td data-num="7"></td><td data-command=""></td><td><pre>-rwxr-xr-x   <span class="token number">1</span> chris  chris    <span class="token number">444</span> Aug <span class="token number">25</span>  <span class="token number">2013</span> backup</pre></td></tr><tr><td data-num="8"></td><td data-command=""></td><td><pre>-rwxr-xr-x   <span class="token number">1</span> chris  chris    <span class="token number">642</span> Jan <span class="token number">17</span> <span class="token number">14</span>:42 deploy</pre></td></tr><tr><td data-num="9"></td><td data-command="[root@localhost] $"></td><td><pre><span class="token function">git</span> <span class="token function">add</span> -A</pre></td></tr><tr><td data-num="10"></td><td data-command="[root@localhost] $"></td><td><pre><span class="token function">git</span> commit -m <span class="token string">"update"</span></pre></td></tr><tr><td data-num="11"></td><td data-command=""></td><td><pre><span class="token function">git</span> push</pre></td></tr></table></figure><h2 id="gallery相册"><a class="anchor" href="#gallery相册">#</a>  <code>gallery</code>  相册</h2><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>## 图案列表 No.1</pre></td></tr><tr><td data-num="2"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1giclfdu6exj20zk0m87hw.jpg &quot;这里是 title&quot;)</pre></td></tr><tr><td data-num="3"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1giclflwv2aj20zk0m84qp.jpg)</pre></td></tr><tr><td data-num="4"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1giclg5ms2rj20zk0m8u0x.jpg)</pre></td></tr><tr><td data-num="5"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1giclhnx9glj20zk0m8npd.jpg)</pre></td></tr><tr><td data-num="6"></td><td><pre>&#123;.gallery&#125;</pre></td></tr><tr><td data-num="7"></td><td><pre>## 图案列表 No.2</pre></td></tr><tr><td data-num="8"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1gicitht3xtj20zk0m8k5v.jpg)</pre></td></tr><tr><td data-num="9"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1giclil3m4ej20zk0m8tn8.jpg)</pre></td></tr><tr><td data-num="10"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1gicljgocqbj20zk0m8e81.jpg)</pre></td></tr><tr><td data-num="11"></td><td><pre>![](https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;6833939bly1gipetfk5zwj20zk0m8e81.jpg)</pre></td></tr><tr><td data-num="12"></td><td><pre>&#123;.gallery data-height&#x3D;&quot;220&quot;&#125;</pre></td></tr></table></figure><h2 id="图案列表-no1"><a class="anchor" href="#图案列表-no1">#</a> 图案列表 No.1</h2><p class="gallery"><img data-src="https://tva3.sinaimg.cn/large/6833939bly1giclfdu6exj20zk0m87hw.jpg" alt="" title="这里是 title" /><br /><img data-src="https://tva3.sinaimg.cn/large/6833939bly1giclflwv2aj20zk0m84qp.jpg" alt="" /><br /><img data-src="https://tva3.sinaimg.cn/large/6833939bly1giclg5ms2rj20zk0m8u0x.jpg" alt="" /><br /><img data-src="https://tva3.sinaimg.cn/large/6833939bly1giclhnx9glj20zk0m8npd.jpg" alt="" /></p><h2 id="图案列表-no2"><a class="anchor" href="#图案列表-no2">#</a> 图案列表 No.2</h2><p class="gallery" data-height="220"><img data-src="https://tva3.sinaimg.cn/large/6833939bly1gicitht3xtj20zk0m8k5v.jpg" alt="" /><br /><img data-src="https://tva3.sinaimg.cn/large/6833939bly1giclil3m4ej20zk0m8tn8.jpg" alt="" /><br /><img data-src="https://tva3.sinaimg.cn/large/6833939bly1gicljgocqbj20zk0m8e81.jpg" alt="" /><br /><img data-src="https://tva3.sinaimg.cn/large/6833939bly1gipetfk5zwj20zk0m8e81.jpg" alt="" /></p><h2 id="quiz-练习题与答案"><a class="anchor" href="#quiz-练习题与答案">#</a>  <code>quiz</code>  练习题与答案</h2><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>---</pre></td></tr><tr><td data-num="2"></td><td><pre>title: 练习题与答案</pre></td></tr><tr><td data-num="3"></td><td><pre>quiz: true</pre></td></tr><tr><td data-num="4"></td><td><pre>---</pre></td></tr><tr><td data-num="5"></td><td><pre>1. 编译时多态主要指运算符重载与函数重载，而运行时多态主要指虚函数。 &#123;.quiz .true&#125;</pre></td></tr><tr><td data-num="6"></td><td><pre>2. 有基类 &#96;SHAPE&#96;，派生类 &#96;CIRCLE&#96;，声明如下变量：  &#123;.quiz .multi&#125;</pre></td></tr><tr><td data-num="7"></td><td><pre>    &#96;&#96;&#96;cpp</pre></td></tr><tr><td data-num="8"></td><td><pre>    SHAPE shape1,*p1;</pre></td></tr><tr><td data-num="9"></td><td><pre>    CIRCLE circle1,*q1;</pre></td></tr><tr><td data-num="10"></td><td><pre>    &#96;&#96;&#96;</pre></td></tr><tr><td data-num="11"></td><td><pre>    下列哪些项是 “派生类对象替换基类对象”。</pre></td></tr><tr><td data-num="12"></td><td><pre>    - &#96;p1&#x3D;&amp;circle1;&#96; &#123;.correct&#125;</pre></td></tr><tr><td data-num="13"></td><td><pre>    - &#96;q1&#x3D;&amp;shape1;&#96;</pre></td></tr><tr><td data-num="14"></td><td><pre>    - &#96;shape1&#x3D;circle1;&#96; &#123;.correct&#125;</pre></td></tr><tr><td data-num="15"></td><td><pre>    - &#96;circle1&#x3D;shape1;&#96;</pre></td></tr><tr><td data-num="16"></td><td><pre>&#123;.options&#125;</pre></td></tr><tr><td data-num="17"></td><td><pre>    &gt; - :heavy_check_mark: 令基类对象的指针指向派生类对象</pre></td></tr><tr><td data-num="18"></td><td><pre>    &gt; - :x: 派生类指针指向基类的引用</pre></td></tr><tr><td data-num="19"></td><td><pre>    &gt; - :heavy_check_mark: 派生类对象给基类对象赋值</pre></td></tr><tr><td data-num="20"></td><td><pre>    &gt; - :x: 基类对象给派生类对象赋值</pre></td></tr><tr><td data-num="21"></td><td><pre>    &gt; &#123;.options&#125;</pre></td></tr><tr><td data-num="22"></td><td><pre>3. 下列叙述正确的是 []&#123;.gap&#125; 。 &#123;.quiz&#125;</pre></td></tr><tr><td data-num="23"></td><td><pre>    - 虚函数只能定义成无参函数</pre></td></tr><tr><td data-num="24"></td><td><pre>    - 虚函数不能有返回值</pre></td></tr><tr><td data-num="25"></td><td><pre>    - 能定义虚构造函数</pre></td></tr><tr><td data-num="26"></td><td><pre>    - A、B、C 都不对 &#123;.correct&#125;</pre></td></tr><tr><td data-num="27"></td><td><pre>&#123;.options&#125;</pre></td></tr><tr><td data-num="28"></td><td><pre>10. 如果定义 &#96;int e&#x3D;8; double f&#x3D;6.4, g&#x3D;8.9;&#96;，则表达式 &#96;f+int (e&#x2F;3*int (f+g)&#x2F;2)%4&#96; 的值为 [9.4]&#123;.gap&#125;。 &#123;.quiz .fill&#125;</pre></td></tr><tr><td data-num="29"></td><td><pre>    &gt; 注意运算顺序和数据类型</pre></td></tr><tr><td data-num="30"></td><td><pre>    &gt; [8.4]&#123;.mistake&#125;</pre></td></tr></table></figure><ol><li class="quiz true">编译时多态主要指运算符重载与函数重载，而运行时多态主要指虚函数。</li><li class="quiz multi">有基类  <code>SHAPE</code> ，派生类  <code>CIRCLE</code> ，声明如下变量： <figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>SHAPE shape1<span class="token punctuation">,</span><span class="token operator">*</span>p1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>CIRCLE circle1<span class="token punctuation">,</span><span class="token operator">*</span>q1<span class="token punctuation">;</span></pre></td></tr></table></figure>下列哪些项是 “派生类对象替换基类对象”。<ul class="options"><li class="correct"><code>p1=&amp;circle1;</code> </li><li><code>q1=&amp;shape1;</code></li><li class="correct"><code>shape1=circle1;</code> </li><li><code>circle1=shape1;</code></li></ul><blockquote><ul class="options"><li>✔️ 令基类对象的指针指向派生类对象</li><li>❌ 派生类指针指向基类的引用</li><li>✔️ 派生类对象给基类对象赋值</li><li>❌ 基类对象给派生类对象赋值</li></ul></blockquote></li><li class="quiz">下列叙述正确的是 <span class="gap"></span> 。<ul class="options"><li>虚函数只能定义成无参函数</li><li>虚函数不能有返回值</li><li>能定义虚构造函数</li><li class="correct">A、B、C 都不对</li></ul></li></ol><h2 id="emoji表情"><a class="anchor" href="#emoji表情">#</a>  <code>emoji</code>  表情</h2><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>:kissing_heart:</pre></td></tr><tr><td data-num="2"></td><td><pre>:ring:</pre></td></tr><tr><td data-num="3"></td><td><pre>:notes:</pre></td></tr></table></figure><p>😘 💍  🎶</p><h2 id="effects文字特效"><a class="anchor" href="#effects文字特效">#</a>  <code>effects</code>  文字特效</h2><p>本功能基于 <code>markdown-it-ins</code>  、  <code>markdown-it-bracketed-spans </code> 和  <code>markdown-it-attrs</code></p><blockquote><p>本主题风格颜色通用样式：default、primary、success、info、warning、danger</p></blockquote><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>++ 下划线 ++</pre></td></tr><tr><td data-num="2"></td><td><pre>++ 波浪线 ++&#123;.wavy&#125;</pre></td></tr><tr><td data-num="3"></td><td><pre>++ 着重点 ++&#123;.dot&#125;</pre></td></tr><tr><td data-num="4"></td><td><pre>++ 紫色下划线 ++&#123;.primary&#125;</pre></td></tr><tr><td data-num="5"></td><td><pre>++ 绿色波浪线 ++&#123;.wavy .success&#125;</pre></td></tr><tr><td data-num="6"></td><td><pre>++ 黄色着重点 ++&#123;.dot .warning&#125;</pre></td></tr><tr><td data-num="7"></td><td><pre>~~ 删除线～～</pre></td></tr><tr><td data-num="8"></td><td><pre>~~ 红色删除线～～&#123;.danger&#125;</pre></td></tr><tr><td data-num="9"></td><td><pre>&#x3D;&#x3D; 荧光高亮 &#x3D;&#x3D;</pre></td></tr><tr><td data-num="10"></td><td><pre>[赤橙黄绿青蓝紫]&#123;.rainbow&#125;</pre></td></tr><tr><td data-num="11"></td><td><pre>[红色]&#123;.red&#125;</pre></td></tr><tr><td data-num="12"></td><td><pre>[粉色]&#123;.pink&#125;</pre></td></tr><tr><td data-num="13"></td><td><pre>[橙色]&#123;.orange&#125;</pre></td></tr><tr><td data-num="14"></td><td><pre>[红色]&#123;.yellow&#125;</pre></td></tr><tr><td data-num="15"></td><td><pre>[绿色]&#123;.green&#125;</pre></td></tr><tr><td data-num="16"></td><td><pre>[靛青]&#123;.aqua&#125;</pre></td></tr><tr><td data-num="17"></td><td><pre>[蓝色]&#123;.blue&#125;</pre></td></tr><tr><td data-num="18"></td><td><pre>[紫色]&#123;.purple&#125;</pre></td></tr><tr><td data-num="19"></td><td><pre>[灰色]&#123;.grey&#125;</pre></td></tr><tr><td data-num="20"></td><td><pre>快捷键 [Ctrl]&#123;.kbd&#125; + [C]&#123;.kbd .red&#125;</pre></td></tr><tr><td data-num="21"></td><td><pre>H~2~0</pre></td></tr><tr><td data-num="22"></td><td><pre>29^th^</pre></td></tr></table></figure><p><ins>下划线</ins><br /><ins class="wavy">波浪线</ins><br /><ins class="dot">着重点</ins><br /><ins class="primary">紫色下划线</ins><br /><ins class="wavy success">绿色波浪线</ins><br /> ++ 黄色着重点 ++{.dot .warning}<br /><s> 删除线</s><br /><s class="danger">红色删除线</s><br /><mark>荧光高亮</mark><br /><span class="rainbow">赤橙黄绿青蓝紫</span><br /><span class="red">红色</span><br /><span class="pink">粉色</span><br /><span class="orange">橙色</span><br /><span class="yellow">红色</span><br /><span class="green">绿色</span><br /><span class="aqua">靛青</span><br /><span class="blue">蓝色</span><br /><span class="purple">紫色</span><br /><span class="grey">灰色</span><br />快捷键 <span class="kbd">Ctrl</span> + <span class="kbd red">C</span><br />H<sub>2</sub>0<br />29<sup>th</sup></p><h2 id="spoiler隐藏文字"><a class="anchor" href="#spoiler隐藏文字">#</a>  <code>spoiler</code>  隐藏文字</h2><p>本功能基于  <code>markdown-it-spoiler</code>  和  <code>markdown-it-attrs</code></p><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>!! 黑幕黑幕黑幕黑幕黑幕黑幕！！: 鼠标滑过显示内容</pre></td></tr><tr><td data-num="2"></td><td><pre>!! 模糊模糊模糊模糊模糊模糊！！&#123;.bulr&#125;: 选中文字显示内容</pre></td></tr></table></figure><p><span class="spoiler" title="你知道得太多了">黑幕黑幕黑幕黑幕黑幕黑幕</span>：鼠标滑过显示内容<br /><span class="spoiler bulr" title="你知道得太多了">模糊模糊模糊模糊模糊模糊</span>：选中文字显示内容</p><h2 id="label-标签块"><a class="anchor" href="#label-标签块">#</a>  <code>label</code>  标签块</h2><p>本功能基于  <code>markdown-it-bracketed-spans</code>  和  <code>markdown-it-attrs</code></p><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>[default]&#123;.label&#125;</pre></td></tr><tr><td data-num="2"></td><td><pre>[primary]&#123;.label .primary&#125;</pre></td></tr><tr><td data-num="3"></td><td><pre>[info]&#123;.label .info&#125;</pre></td></tr><tr><td data-num="4"></td><td><pre>[:heavy_check_mark:success]&#123;.label .success&#125;</pre></td></tr><tr><td data-num="5"></td><td><pre>[warning]&#123;.label .warning&#125;</pre></td></tr><tr><td data-num="6"></td><td><pre>[:broken_heart:danger]&#123;.label .danger&#125;</pre></td></tr></table></figure><p><span class="label">default</span><br /><span class="label primary">primary</span><br /><span class="label info">info</span><br /><span class="label success">✔️success</span><br /><span class="label warning">warning</span><br /><span class="label danger">💔danger</span></p><h2 id="note-提醒块"><a class="anchor" href="#note-提醒块">#</a>  <code>note</code>  提醒块</h2><p>本功能基于  <code>markdown-it-container</code> <br /> 标签为:</p><table><thead><tr><th>开始行</th><th><code>:::[风格颜色]</code></th></tr></thead><tbody><tr><td>结束行</td><td><code>:::</code></td></tr></tbody></table><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>:::default</pre></td></tr><tr><td data-num="2"></td><td><pre>默认默认</pre></td></tr><tr><td data-num="3"></td><td><pre>:::</pre></td></tr><tr><td data-num="4"></td><td><pre>:::primary</pre></td></tr><tr><td data-num="5"></td><td><pre>基本基本</pre></td></tr><tr><td data-num="6"></td><td><pre>:::</pre></td></tr><tr><td data-num="7"></td><td><pre>:::info</pre></td></tr><tr><td data-num="8"></td><td><pre>提示提示</pre></td></tr><tr><td data-num="9"></td><td><pre>:::</pre></td></tr><tr><td data-num="10"></td><td><pre>:::success</pre></td></tr><tr><td data-num="11"></td><td><pre>成功成功</pre></td></tr><tr><td data-num="12"></td><td><pre>:::</pre></td></tr><tr><td data-num="13"></td><td><pre>:::warning</pre></td></tr><tr><td data-num="14"></td><td><pre>警告警告</pre></td></tr><tr><td data-num="15"></td><td><pre>:::</pre></td></tr><tr><td data-num="16"></td><td><pre>:::danger</pre></td></tr><tr><td data-num="17"></td><td><pre>危险危险</pre></td></tr><tr><td data-num="18"></td><td><pre>:::</pre></td></tr><tr><td data-num="19"></td><td><pre>:::danger no-icon</pre></td></tr><tr><td data-num="20"></td><td><pre>危险危险</pre></td></tr><tr><td data-num="21"></td><td><pre>:::</pre></td></tr></table></figure><div class="note default"><p>默认默认</p></div><div class="note primary"><p>基本基本</p></div><div class="note info"><p>提示提示</p></div><div class="note success"><p>成功成功</p></div><div class="note warning"><p>警告警告</p></div><div class="note danger"><p>危险危险</p></div><div class="note danger no-icon"><p>危险危险</p></div><h2 id="tab标签卡"><a class="anchor" href="#tab标签卡">#</a>  <code>tab</code>  标签卡</h2><p>本功能基于  <code>markdown-it-container</code> <br /> 标签为:</p><table><thead><tr><th>开始行</th><th><code>;;;[同一ID] [标签名称]</code></th></tr></thead><tbody><tr><td>结束行</td><td><code>;;;</code></td></tr></tbody></table><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>;;;id1 卡片 1</pre></td></tr><tr><td data-num="2"></td><td><pre>这里是卡片 1 的内容</pre></td></tr><tr><td data-num="3"></td><td><pre>** 加粗 **</pre></td></tr><tr><td data-num="4"></td><td><pre>[success]&#123;.label .success&#125;</pre></td></tr><tr><td data-num="5"></td><td><pre><div class="links"><div class="item" title="霜月琉璃" style="--block-color:#e9546b;"><span class="exturl image" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=" data-background-image="https://cdn.jsdelivr.net/gh/amehime/shoka@latest/images/avatar.jpg"></span>          <div class="info">          <span class="exturl title" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=">優萌初華</span>          <p class="desc">琉璃的医学 & 编程笔记</p>          </div></div></div></pre></td></tr><tr><td data-num="6"></td><td><pre>;;;</pre></td></tr><tr><td data-num="7"></td><td><pre>;;;id1 卡片 2</pre></td></tr><tr><td data-num="8"></td><td><pre>这里是卡片 2 的内容</pre></td></tr><tr><td data-num="9"></td><td><pre>:::danger</pre></td></tr><tr><td data-num="10"></td><td><pre>危险危险</pre></td></tr><tr><td data-num="11"></td><td><pre>:::</pre></td></tr><tr><td data-num="12"></td><td><pre>- 第一行</pre></td></tr><tr><td data-num="13"></td><td><pre>- 第二行</pre></td></tr><tr><td data-num="14"></td><td><pre>;;;</pre></td></tr><tr><td data-num="15"></td><td><pre>;;;id2 ②号标签卡片 1</pre></td></tr><tr><td data-num="16"></td><td><pre>这里是卡片 1 的内容</pre></td></tr><tr><td data-num="17"></td><td><pre>;;;</pre></td></tr><tr><td data-num="18"></td><td><pre>;;;id2 ②号标签卡片 2</pre></td></tr><tr><td data-num="19"></td><td><pre>这里是卡片 2 的内容</pre></td></tr><tr><td data-num="20"></td><td><pre>;;;</pre></td></tr></table></figure><div class="tab" data-id="id1" data-title="卡片 1"><p>这里是卡片 1 的内容<br /> ** 加粗 **<br /><span class="label success">success</span><br /><div class="links"><div class="item" title="霜月琉璃" style="--block-color:#e9546b;"><span class="exturl image" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=" data-background-image="https://cdn.jsdelivr.net/gh/amehime/shoka@latest/images/avatar.jpg"></span>          <div class="info">          <span class="exturl title" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=">優萌初華</span>          <p class="desc">琉璃的医学 & 编程笔记</p>          </div></div></div></p></div><div class="tab" data-id="id1" data-title="卡片 2"><p>这里是卡片 2 的内容</p><div class="note danger"><p>危险危险</p></div><ul><li>第一行</li><li>第二行</li></ul></div><div class="tab" data-id="id2" data-title="②号标签卡片 1"><p>这里是卡片 1 的内容</p></div><div class="tab" data-id="id2" data-title="②号标签卡片 2"><p>这里是卡片 2 的内容</p></div><h2 id="collapse折叠块"><a class="anchor" href="#collapse折叠块">#</a>  <code>collapse</code>  折叠块</h2><p>本功能基于  <code>markdown-it-container</code> <br /> 标签为:</p><table><thead><tr><th>开始行</th><th><code>+++[风格颜色] [标题文字]</code></th></tr></thead><tbody><tr><td>结束行</td><td><code>+++</code></td></tr></tbody></table><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>+++ 默认默认 这里是一段文字</pre></td></tr><tr><td data-num="2"></td><td><pre>++ 下划线 ++</pre></td></tr><tr><td data-num="3"></td><td><pre>+++</pre></td></tr><tr><td data-num="4"></td><td><pre>+++primary 紫色</pre></td></tr><tr><td data-num="5"></td><td><pre>:::info</pre></td></tr><tr><td data-num="6"></td><td><pre>参考信息</pre></td></tr><tr><td data-num="7"></td><td><pre>:::</pre></td></tr><tr><td data-num="8"></td><td><pre>- 第一行</pre></td></tr><tr><td data-num="9"></td><td><pre>- 第二行</pre></td></tr><tr><td data-num="10"></td><td><pre>+++</pre></td></tr><tr><td data-num="11"></td><td><pre>+++info  蓝色</pre></td></tr><tr><td data-num="12"></td><td><pre>;;;id3 卡片 1</pre></td></tr><tr><td data-num="13"></td><td><pre>这里是卡片 1 的内容</pre></td></tr><tr><td data-num="14"></td><td><pre>;;;</pre></td></tr><tr><td data-num="15"></td><td><pre>;;;id3 卡片 2</pre></td></tr><tr><td data-num="16"></td><td><pre>这里是卡片 2 的内容</pre></td></tr><tr><td data-num="17"></td><td><pre>;;;</pre></td></tr><tr><td data-num="18"></td><td><pre>+++</pre></td></tr><tr><td data-num="19"></td><td><pre>+++success 绿色</pre></td></tr><tr><td data-num="20"></td><td><pre><div class="links"><div class="item" title="優萌初華" style="--block-color:#e9546b;"><span class="exturl image" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=" data-background-image="/images/404.png"></span>          <div class="info">          <span class="exturl title" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=">優萌初華</span>          <p class="desc">https://shoka.lostyu.me</p>          </div></div></div></pre></td></tr><tr><td data-num="21"></td><td><pre>+++</pre></td></tr><tr><td data-num="22"></td><td><pre>+++warning 黄色</pre></td></tr><tr><td data-num="23"></td><td><pre>!! 警告警告警告警告警告！！&#123;.bulr&#125;</pre></td></tr><tr><td data-num="24"></td><td><pre>[label]&#123;.label .success&#125;</pre></td></tr><tr><td data-num="25"></td><td><pre>+++</pre></td></tr><tr><td data-num="26"></td><td><pre>+++danger 红色</pre></td></tr><tr><td data-num="27"></td><td><pre>[danger]&#123;.label .danger&#125;</pre></td></tr><tr><td data-num="28"></td><td><pre>+++</pre></td></tr></table></figure><details><summary>默认默认 这里是一段文字</summary><div><p>++ 下划线 ++</p></div></details><details class="primary"><summary>紫色</summary><div><div class="note info"><p>参考信息</p></div><ul><li>第一行</li><li>第二行</li></ul></div></details><details class="info"><summary>蓝色</summary><div><div class="tab" data-id="id3" data-title="卡片 1"><p>这里是卡片 1 的内容</p></div><div class="tab" data-id="id3" data-title="卡片 2"><p>这里是卡片 2 的内容</p></div></div></details><details class="success"><summary>绿色</summary><div><p><div class="links"><div class="item" title="優萌初華" style="--block-color:#e9546b;"><span class="exturl image" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=" data-background-image="/images/404.png"></span>          <div class="info">          <span class="exturl title" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=">優萌初華</span>          <p class="desc">https://shoka.lostyu.me</p>          </div></div></div></p></div></details><details class="warning"><summary>黄色</summary><div><p>!! 警告警告警告警告警告！！{.bulr}<br /><span class="label success">label</span></p></div></details><details class="danger"><summary>红色</summary><div><p><span class="label danger">danger</span></p></div></details><h2 id="tasklist待办事项"><a class="anchor" href="#tasklist待办事项">#</a>  <code>taskList</code>  待办事项</h2><p>本功能基于  <code>markdown-it-task-checkbox </code> 。<br />可以利用  <code>markdown-it-attrs</code>  添加风格颜色，只可以给 <code>ul</code>  标签添加，需要新建两行。</p><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>- [ ] 这是一个小叉叉</pre></td></tr><tr><td data-num="2"></td><td><pre>- [x] 这是一个红色勾勾</pre></td></tr><tr><td data-num="3"></td><td><pre>&#123;.danger&#125;</pre></td></tr><tr><td data-num="4"></td><td><pre>- [ ] 未完成</pre></td></tr><tr><td data-num="5"></td><td><pre>- [x] 完成</pre></td></tr><tr><td data-num="6"></td><td><pre>&#123;.primary&#125;</pre></td></tr><tr><td data-num="7"></td><td><pre>- [ ] 未完成</pre></td></tr><tr><td data-num="8"></td><td><pre>- [x] 默认颜色</pre></td></tr></table></figure><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_0" disabled="true" /><label for="cbx_0"> 这是一个小叉叉</label></li><li class="task-list-item"><input type="checkbox" id="cbx_1" checked="true" disabled="true" /><label for="cbx_1"> 这是一个红色勾勾<br /> {.danger}</label></li><li class="task-list-item"><input type="checkbox" id="cbx_2" disabled="true" /><label for="cbx_2"> 未完成</label></li><li class="task-list-item"><input type="checkbox" id="cbx_3" checked="true" disabled="true" /><label for="cbx_3"> 完成<br /> {.primary}</label></li><li class="task-list-item"><input type="checkbox" id="cbx_4" disabled="true" /><label for="cbx_4"> 未完成</label></li><li class="task-list-item"><input type="checkbox" id="cbx_5" checked="true" disabled="true" /><label for="cbx_5"> 默认颜色</label></li></ul><h2 id="说明"><a class="anchor" href="#说明">#</a> 说明</h2><p>本文转载至 Ruri Shimotsuki @優萌初華<br /><span class="exturl" data-url="aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9zcGVjaWFsLw==">原文链接</span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ionic使用font awesome图表</title>
    <link href="http://standalone.pub:4000/notes/front/ionic-fontawesome/"/>
    <id>http://standalone.pub:4000/notes/front/ionic-fontawesome/</id>
    <published>2020-11-07T09:34:39.000Z</published>
    <updated>2020-11-07T10:05:55.575Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ionic项目中使用font-awesome"><a class="anchor" href="#ionic项目中使用font-awesome">#</a> Ionic 项目中使用 Font Awesome</h1><h2 id="配置"><a class="anchor" href="#配置">#</a> 配置</h2><p>安装必要的包</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> i @fortawesome/angular-fontawesome</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> @fortawesome/fontawesome-svg-core</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> @fortawesome/free-solid-svg-icons</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> @fortawesome/free-regular-svg-icons</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> @fortawesome/free-brands-svg-icons</pre></td></tr></table></figure><h2 id="使用"><a class="anchor" href="#使用">#</a> 使用</h2><ol><li>添加 <code>FontAwesomeModule</code>  到 <code>src/app/app.module.ts</code> , 并添加对应的 IconPack</li></ol><figure class="highlight ts"><figcaption data-lang="TypeScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">...</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> FontAwesomeModule<span class="token punctuation">,</span> FaIconLibrary <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@fortawesome/angular-fontawesome'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>fas<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@fortawesome/free-solid-svg-icons'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>far<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@fortawesome/free-regular-svg-icons'</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>fab<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@fortawesome/free-brands-svg-icons'</span></pre></td></tr><tr><td data-num="7"></td><td><pre>@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  entryComponents<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  imports<span class="token operator">:</span> <span class="token punctuation">[</span>BrowserModule<span class="token punctuation">,</span> IonicModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> AppRoutingModule<span class="token punctuation">,</span>NgxEchartsModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>echarts<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>FontAwesomeModule<span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  providers<span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    StatusBar<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    SplashScreen<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#123;</span> provide<span class="token operator">:</span> RouteReuseStrategy<span class="token punctuation">,</span> useClass<span class="token operator">:</span> IonicRouteStrategy <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  bootstrap<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token keyword">constructor</span><span class="token punctuation">(</span>library<span class="token operator">:</span>FaIconLibrary<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    library<span class="token punctuation">.</span><span class="token function">addIconPacks</span><span class="token punctuation">(</span>fas<span class="token punctuation">,</span>fab<span class="token punctuation">,</span>far<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>在 HTML 模板中，用下面的语法实现调用图标</p><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fa-icon</span> <span class="token attr-name">[icon]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[<span class="token punctuation">'</span>fas<span class="token punctuation">'</span>, <span class="token punctuation">'</span>angry<span class="token punctuation">'</span>]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fa-icon</span><span class="token punctuation">></span></span></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="笔记" scheme="http://standalone.pub:4000/categories/notes/"/>
    
    <category term="前端" scheme="http://standalone.pub:4000/categories/notes/front/"/>
    
    
    <category term="Ionic" scheme="http://standalone.pub:4000/tags/Ionic/"/>
    
    <category term="Font Awesome" scheme="http://standalone.pub:4000/tags/Font-Awesome/"/>
    
  </entry>
  
  <entry>
    <title>Ionic项目整合Echarts</title>
    <link href="http://standalone.pub:4000/notes/front/ionic-echarts/"/>
    <id>http://standalone.pub:4000/notes/front/ionic-echarts/</id>
    <published>2020-11-07T05:44:48.000Z</published>
    <updated>2020-11-07T09:13:43.860Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ionic整合echarts"><a class="anchor" href="#ionic整合echarts">#</a> Ionic 整合 Echarts</h1><p>本文主要介绍如何在 Ionic 项目中使用 Echarts 来绘制图表。<br />本文书写时使用软件版本<br /> <code>ionic@6.12.0</code> <br /> <code>angular/cli@10.0.5</code> <br /> <code>ngx-echarts@5.2.1</code></p><h2 id="安装"><a class="anchor" href="#安装">#</a> 安装</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># if you use npm</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> echarts -S</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> ngx-echarts -S</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> resize-observer-polyfill -D</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># or if you use yarn</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">yarn</span> <span class="token function">add</span> echarts</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">yarn</span> <span class="token function">add</span> ngx-echarts</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">yarn</span> <span class="token function">add</span> -D resize-observer-polyfill</pre></td></tr></table></figure><h2 id="配置对应文件"><a class="anchor" href="#配置对应文件">#</a> 配置对应文件</h2><p>修改 <code>app.module.ts</code>  文件，导入 <code>NgxEchartsModule</code></p><figure class="highlight ts"><figcaption data-lang="TypeScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> NgxEchartsModule <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ngx-echarts'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  imports<span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    NgxEchartsModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>      <span class="token comment">/**</pre></td></tr><tr><td data-num="7"></td><td><pre>       * This will import all modules from echarts.</pre></td></tr><tr><td data-num="8"></td><td><pre>       * If you only need custom modules,</pre></td></tr><tr><td data-num="9"></td><td><pre>       * please refer to [Custom Build] section.</pre></td></tr><tr><td data-num="10"></td><td><pre>       */</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      <span class="token function-variable function">echarts</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'echarts'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// or import('./path-to-my-custom-echarts')</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="使用说明"><a class="anchor" href="#使用说明">#</a> 使用说明</h2><p>HTML 模板文件</p><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">echarts</span> <span class="token attr-name">[options]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chartOption<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo-chart<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>对应组件内部添加控制参数</p><figure class="highlight ts"><figcaption data-lang="TypeScript"></figcaption><table><tr><td data-num="1"></td><td><pre>chartOption<span class="token operator">:</span> EChartOption <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  xAxis<span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  yAxis<span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  series<span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>      <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="插件使用"><a class="anchor" href="#插件使用">#</a> 插件使用</h2><p>ngx-echarts 支持 echarts 的插件和主题，例如我就需要用到水滴图，所以需要 <code>echarts-liquidfill</code>  插件<br />使用如下，在导入 <code>echarts</code>  后导入需要插件和主题。</p><figure class="highlight ts"><figcaption data-lang="TypeScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">...</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">'echarts'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token string">"echarts-liquidfill/dist/echarts-liquidfill.min.js"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span></pre></td></tr></table></figure><h2 id="优化"><a class="anchor" href="#优化">#</a> 优化</h2><p>你可以选择导入一部分需要使用的图表类型来减少应用体积，这一部分需要使用到 <code>custom-echarts</code>  导入文件，具体可以参考官方的 <code>ngx-echarts</code>  说明进行删减。</p><h2 id="faqs"><a class="anchor" href="#faqs">#</a> FAQs:</h2><p>Q: 报错 <code> Required resize-observer-polyfill</code> '<br />A: 安装对应包即可 <code>npm i resize-observer-polyfill --save</code></p><p>Q: 报错 <code>Can't bind to 'options' since it isn't a known property of 'div'.</code> <br />A: 在对应组件的 <code>module.ts</code>  中 import <code>NgxEchartsModule</code> , 你也可以把这个模块写入 shareModule 中直接导入</p><h3 id="相关链接"><a class="anchor" href="#相关链接">#</a> 相关链接</h3><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvbmd4LWVjaGFydHM=">Ngx-Echarts</span><br /><span class="exturl" data-url="aHR0cHM6Ly9lY2hhcnRzLmFwYWNoZS5vcmc=">Echarts 官网</span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="笔记" scheme="http://standalone.pub:4000/categories/notes/"/>
    
    <category term="前端" scheme="http://standalone.pub:4000/categories/notes/front/"/>
    
    
    <category term="Ionic" scheme="http://standalone.pub:4000/tags/Ionic/"/>
    
    <category term="Echarts" scheme="http://standalone.pub:4000/tags/Echarts/"/>
    
    <category term="Angular" scheme="http://standalone.pub:4000/tags/Angular/"/>
    
  </entry>
  
  <entry>
    <title>Nginx配置</title>
    <link href="http://standalone.pub:4000/notes/app-settings/nginx/"/>
    <id>http://standalone.pub:4000/notes/app-settings/nginx/</id>
    <published>2018-10-21T12:48:10.000Z</published>
    <updated>2020-11-07T10:18:26.875Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="nginx"><a class="anchor" href="#nginx">#</a> Nginx</h2><h2 id="安装过程"><a class="anchor" href="#安装过程">#</a> 安装过程</h2><p>在 ubuntu 发行版下只需一条命令即可安装 nginx</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> nginx</pre></td></tr></table></figure><details><summary>如果发现安装的版本不是最新版本，则需要一些前置操作</summary><div><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">curl</span> gnupg2 ca-certificates lsb-release</pre></td></tr></table></figure><p>配置稳定版 nginx 仓库</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"deb http://nginx.org/packages/ubuntu <span class="token variable"><span class="token variable">`</span>lsb_release -cs<span class="token variable">`</span></span> nginx"</span> <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/nginx.list</pre></td></tr></table></figure><p>下一步，导入官方 nginx 签名</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">curl</span> -fsSL https://nginx.org/keys/nginx_signing.key <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -</pre></td></tr></table></figure><p>验证签名</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> apt-key fingerprint ABF5BD827BD9BF62</pre></td></tr></table></figure><p>最后的输出</p><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>pub   rsa2048 2011-08-19 [SC] [expires: 2024-06-14]</pre></td></tr><tr><td data-num="2"></td><td><pre>      573B FD6B 3D8F BC64 1079  A6AB ABF5 BD82 7BD9 BF62</pre></td></tr><tr><td data-num="3"></td><td><pre>uid   [ unknown] nginx signing key &lt;signing-key@nginx.com&gt;</pre></td></tr></table></figure><p>最后重新安装 nginx</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> update</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nginx</pre></td></tr></table></figure><p>需要说明的是这样安装网速超级慢</p></div></details><p>可以使用 <code>nginx -v</code>  查看安装的版本】<br />本文安装的版本文 1.18</p><h2 id="配置说明"><a class="anchor" href="#配置说明">#</a> 配置说明</h2><p>nginx 配置文件的关系:<br /><img data-src="https://aiko-blog.oss-cn-shanghai.aliyuncs.com/blog-img/nginx.png" alt="" /></p><p>配置代理目录 <code>/etc/nginx/sites-available/</code>  存放具体 Server 的配置文件</p><p>启动配置代理目录 <code>/etc/nginx/sites-enabled/</code>  存放的链接文件，每个链接指向 <code>sites-available</code>  目录中的配置文件<br />具体命令为</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">ln</span> -s /etc/nginx/sites-available/availableFileName linkFileName</pre></td></tr></table></figure><details><summary>nginx.conf配置文件详解</summary><div><figure class="highlight raw"><figcaption data-lang=""></figcaption><table><tr><td data-num="1"></td><td><pre>##</pre></td></tr><tr><td data-num="2"></td><td><pre># 全局配置</pre></td></tr><tr><td data-num="3"></td><td><pre>##</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>user www-data;             ## 配置 worker 进程的用户和组</pre></td></tr><tr><td data-num="6"></td><td><pre>worker_processes auto;     ## 配置 worker 进程启动的数量，建议配置为 CPU 核心数</pre></td></tr><tr><td data-num="7"></td><td><pre>error_log logs&#x2F;error.log;  ## 全局错误日志</pre></td></tr><tr><td data-num="8"></td><td><pre>pid &#x2F;run&#x2F;nginx.pid;        ## 设置记录主进程 ID 的文件</pre></td></tr><tr><td data-num="9"></td><td><pre>worker_rlimit_nofile 8192; ## 配置一个工作进程能够接受并发连接的最大数</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>##</pre></td></tr><tr><td data-num="12"></td><td><pre># 工作模式及连接数上限</pre></td></tr><tr><td data-num="13"></td><td><pre>##</pre></td></tr><tr><td data-num="14"></td><td><pre>events &#123;</pre></td></tr><tr><td data-num="15"></td><td><pre>    # epoll 是多路复用 IO（I&#x2F;O Multiplexing）中的一种方式，</pre></td></tr><tr><td data-num="16"></td><td><pre>    # 仅用于 Linux 2.6 以上内核，可以大大提高 Nginx 性能</pre></td></tr><tr><td data-num="17"></td><td><pre>    use epoll</pre></td></tr><tr><td data-num="18"></td><td><pre>        </pre></td></tr><tr><td data-num="19"></td><td><pre>    # 单个后台 worker process 进程的最大并发链接数</pre></td></tr><tr><td data-num="20"></td><td><pre>    # 并发总数 max_clients &#x3D; worker_professes * worker_connections</pre></td></tr><tr><td data-num="21"></td><td><pre>    worker_connections 4096;  ## Defaule: 1024</pre></td></tr><tr><td data-num="22"></td><td><pre>    # multi_accept on;  ## 指明 worker 进程立刻接受新的连接</pre></td></tr><tr><td data-num="23"></td><td><pre>&#125;</pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>##</pre></td></tr><tr><td data-num="26"></td><td><pre># http 模块</pre></td></tr><tr><td data-num="27"></td><td><pre>##</pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>http &#123;</pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>    ##</pre></td></tr><tr><td data-num="32"></td><td><pre>    # Basic Settings</pre></td></tr><tr><td data-num="33"></td><td><pre>    ##</pre></td></tr><tr><td data-num="34"></td><td><pre>    </pre></td></tr><tr><td data-num="35"></td><td><pre>    #sendfile 指令指定 nginx 是否调用 sendfile 函数（zero copy 方式）来输出文件，</pre></td></tr><tr><td data-num="36"></td><td><pre>    #对于普通应用，必须设为 on,</pre></td></tr><tr><td data-num="37"></td><td><pre>    #如果用来进行下载等应用磁盘 IO 重负载应用，可设置为 off，</pre></td></tr><tr><td data-num="38"></td><td><pre>    #以平衡磁盘与网络 I&#x2F;O 处理速度，降低系统的 uptime.</pre></td></tr><tr><td data-num="39"></td><td><pre>    sendfile on;</pre></td></tr><tr><td data-num="40"></td><td><pre>    tcp_nopush on;</pre></td></tr><tr><td data-num="41"></td><td><pre>    tcp_nodelay on;</pre></td></tr><tr><td data-num="42"></td><td><pre>    keepalive_timeout 65;      ## 连接超时时间</pre></td></tr><tr><td data-num="43"></td><td><pre>    types_hash_max_size 2048;  ## 指定散列类型表的最大大小</pre></td></tr><tr><td data-num="44"></td><td><pre>    # server_tokens off;</pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>    # server_names_hash_bucket_size 64;  # this seems to be required for some vhosts</pre></td></tr><tr><td data-num="47"></td><td><pre>    # server_name_in_redirect off;</pre></td></tr><tr><td data-num="48"></td><td><pre>    </pre></td></tr><tr><td data-num="49"></td><td><pre>    include &#x2F;etc&#x2F;nginx&#x2F;mime.types;  ## 设定 mine 类型</pre></td></tr><tr><td data-num="50"></td><td><pre>    default_type application&#x2F;octet-stream;</pre></td></tr><tr><td data-num="51"></td><td><pre>   </pre></td></tr><tr><td data-num="52"></td><td><pre>    # 设定请求缓冲</pre></td></tr><tr><td data-num="53"></td><td><pre>    client_header_buffer_size    128k; # 指定客户端请求头缓存大小，当请求头大于 1KB 时会用到该项</pre></td></tr><tr><td data-num="54"></td><td><pre>    large_client_header_buffers  4 128k; # 最大数量和最大客户端请求头的大小</pre></td></tr><tr><td data-num="55"></td><td><pre>    </pre></td></tr><tr><td data-num="56"></td><td><pre>    ##</pre></td></tr><tr><td data-num="57"></td><td><pre>    # SSL Settings</pre></td></tr><tr><td data-num="58"></td><td><pre>    ##</pre></td></tr><tr><td data-num="59"></td><td><pre>    </pre></td></tr><tr><td data-num="60"></td><td><pre>    # 启用所有协议，禁用已废弃的不安全的 SSL 2 和 SSL 3</pre></td></tr><tr><td data-num="61"></td><td><pre>    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE</pre></td></tr><tr><td data-num="62"></td><td><pre>    # 让服务器选择要使用的算法套件</pre></td></tr><tr><td data-num="63"></td><td><pre>    ssl_prefer_server_ciphers on;</pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre>    ##</pre></td></tr><tr><td data-num="66"></td><td><pre>    # Logging Settings</pre></td></tr><tr><td data-num="67"></td><td><pre>    ##</pre></td></tr><tr><td data-num="68"></td><td><pre></pre></td></tr><tr><td data-num="69"></td><td><pre>    access_log &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log;  ## 访问日志</pre></td></tr><tr><td data-num="70"></td><td><pre>    error_log &#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log;    ## 错误日志</pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre>    ##</pre></td></tr><tr><td data-num="73"></td><td><pre>    # Gzip Settings</pre></td></tr><tr><td data-num="74"></td><td><pre>    ##</pre></td></tr><tr><td data-num="75"></td><td><pre></pre></td></tr><tr><td data-num="76"></td><td><pre>    gzip on;</pre></td></tr><tr><td data-num="77"></td><td><pre>    gzip_disable &quot;msie6&quot;;</pre></td></tr><tr><td data-num="78"></td><td><pre></pre></td></tr><tr><td data-num="79"></td><td><pre>    # gzip_vary on;</pre></td></tr><tr><td data-num="80"></td><td><pre>    # gzip_proxied any;</pre></td></tr><tr><td data-num="81"></td><td><pre>    # gzip_comp_level 6;</pre></td></tr><tr><td data-num="82"></td><td><pre>    # gzip_buffers 16 8k;</pre></td></tr><tr><td data-num="83"></td><td><pre>    # gzip_http_version 1.1;</pre></td></tr><tr><td data-num="84"></td><td><pre>    # gzip_types text&#x2F;plain text&#x2F;css application&#x2F;json application&#x2F;javascript text&#x2F;xml application&#x2F;xml application&#x2F;xml+rss text&#x2F;javascript;</pre></td></tr><tr><td data-num="85"></td><td><pre></pre></td></tr><tr><td data-num="86"></td><td><pre>    ##</pre></td></tr><tr><td data-num="87"></td><td><pre>    # Virtual Host Configs</pre></td></tr><tr><td data-num="88"></td><td><pre>    ##</pre></td></tr><tr><td data-num="89"></td><td><pre></pre></td></tr><tr><td data-num="90"></td><td><pre>    include &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;*.conf;   # 这个文件夹默认是空的</pre></td></tr><tr><td data-num="91"></td><td><pre>    include &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;*; # 开启的 Server 服务配置</pre></td></tr><tr><td data-num="92"></td><td><pre></pre></td></tr><tr><td data-num="93"></td><td><pre>&#125;</pre></td></tr><tr><td data-num="94"></td><td><pre></pre></td></tr><tr><td data-num="95"></td><td><pre>##</pre></td></tr><tr><td data-num="96"></td><td><pre># mail 模块</pre></td></tr><tr><td data-num="97"></td><td><pre>##</pre></td></tr><tr><td data-num="98"></td><td><pre>        </pre></td></tr><tr><td data-num="99"></td><td><pre>mail &#123;</pre></td></tr><tr><td data-num="100"></td><td><pre>    # See sample authentication script at:</pre></td></tr><tr><td data-num="101"></td><td><pre>    # http:&#x2F;&#x2F;wiki.nginx.org&#x2F;ImapAuthenticateWithApachePhpScript</pre></td></tr><tr><td data-num="102"></td><td><pre></pre></td></tr><tr><td data-num="103"></td><td><pre>    # auth_http localhost&#x2F;auth.php;</pre></td></tr><tr><td data-num="104"></td><td><pre>    # pop3_capabilities &quot;TOP&quot; &quot;USER&quot;;</pre></td></tr><tr><td data-num="105"></td><td><pre>    # imap_capabilities &quot;IMAP4rev1&quot; &quot;UIDPLUS&quot;;</pre></td></tr><tr><td data-num="106"></td><td><pre></pre></td></tr><tr><td data-num="107"></td><td><pre>    server &#123;</pre></td></tr><tr><td data-num="108"></td><td><pre>        listen     localhost:110;</pre></td></tr><tr><td data-num="109"></td><td><pre>        protocol   pop3;</pre></td></tr><tr><td data-num="110"></td><td><pre>        proxy      on;</pre></td></tr><tr><td data-num="111"></td><td><pre>    &#125;</pre></td></tr><tr><td data-num="112"></td><td><pre></pre></td></tr><tr><td data-num="113"></td><td><pre>    server &#123;</pre></td></tr><tr><td data-num="114"></td><td><pre>        listen     localhost:143;</pre></td></tr><tr><td data-num="115"></td><td><pre>        protocol   imap;</pre></td></tr><tr><td data-num="116"></td><td><pre>        proxy      on;</pre></td></tr><tr><td data-num="117"></td><td><pre>    &#125;</pre></td></tr><tr><td data-num="118"></td><td><pre>&#125;</pre></td></tr></table></figure></div></details><h2 id="配置http服务"><a class="anchor" href="#配置http服务">#</a> 配置 HTTP 服务</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># Virtual Host configuration for arlingbc.com</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># You can move that to a different file under sites-available/ and symlink that</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># to sites-enabled/ to enable it.</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 丢弃缺乏 Host 头的请求</span></pre></td></tr><tr><td data-num="8"></td><td><pre>server <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>       listen <span class="token number">80</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>       <span class="token builtin class-name">return</span> <span class="token number">444</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>server <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>       listen <span class="token number">80</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>       listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>       server_name example.com www.example.com<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>       <span class="token comment"># 定义服务器的默认网站根目录位置</span></pre></td></tr><tr><td data-num="19"></td><td><pre>       root /var/www/example/<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>       </pre></td></tr><tr><td data-num="21"></td><td><pre>       <span class="token comment"># Add index.php to the list if you are using PHP</span></pre></td></tr><tr><td data-num="22"></td><td><pre>       index index.html index.htm index.nginx-debian.html<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>       <span class="token comment"># access log file 访问日志</span></pre></td></tr><tr><td data-num="25"></td><td><pre>       access_log logs/nginx.access.log main<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>       </pre></td></tr><tr><td data-num="27"></td><td><pre>       <span class="token comment"># 禁止访问隐藏文件</span></pre></td></tr><tr><td data-num="28"></td><td><pre>       <span class="token comment"># Deny all attempts to access hidden files such as .htaccess, .htpasswd, .DS_Store (Mac).</span></pre></td></tr><tr><td data-num="29"></td><td><pre>       location ~ /<span class="token punctuation">\</span>. <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>                deny all<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>                access_log off<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>                log_not_found off<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    </pre></td></tr><tr><td data-num="35"></td><td><pre>       <span class="token comment"># 默认请求</span></pre></td></tr><tr><td data-num="36"></td><td><pre>       location / <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>                <span class="token comment"># 首先尝试将请求作为文件提供，然后作为目录，然后回退到显示 404。</span></pre></td></tr><tr><td data-num="38"></td><td><pre>                <span class="token comment"># try_files 指令将会按照给定它的参数列出顺序进行尝试，第一个被匹配的将会被使用。</span></pre></td></tr><tr><td data-num="39"></td><td><pre>                <span class="token comment"># try_files $uri $uri/ =404;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>      </pre></td></tr><tr><td data-num="41"></td><td><pre>                try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.php?path_info<span class="token operator">=</span><span class="token variable">$uri</span><span class="token operator">&amp;</span><span class="token variable">$args</span> <span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>                access_log off<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>                expires max<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    </pre></td></tr><tr><td data-num="46"></td><td><pre>       <span class="token comment"># 静态文件，nginx 自己处理</span></pre></td></tr><tr><td data-num="47"></td><td><pre>       location ~ ^/<span class="token punctuation">(</span>images<span class="token operator">|</span>javascript<span class="token operator">|</span>js<span class="token operator">|</span>css<span class="token operator">|</span>flash<span class="token operator">|</span>media<span class="token operator">|</span>static<span class="token punctuation">)</span>/ <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            </pre></td></tr><tr><td data-num="49"></td><td><pre>           <span class="token comment">#过期 30 天，静态文件不怎么更新，过期可以设大一点，</span></pre></td></tr><tr><td data-num="50"></td><td><pre>           <span class="token comment">#如果频繁更新，则可以设置得小一点。</span></pre></td></tr><tr><td data-num="51"></td><td><pre>           expires 30d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    </pre></td></tr><tr><td data-num="54"></td><td><pre>       <span class="token comment"># .php 请求</span></pre></td></tr><tr><td data-num="55"></td><td><pre>       location ~ <span class="token punctuation">\</span>.php$ <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>                try_files <span class="token variable">$uri</span> <span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>                include /etc/nginx/fastcgi_params<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>                fastcgi_pass unix:/var/run/php5-fpm.sock<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>                fastcgi_index index.php<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>                fastcgi_param SCRIPT_FILENAME <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>                fastcgi_intercept_errors on<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    </pre></td></tr><tr><td data-num="64"></td><td><pre>      <span class="token comment"># PHP 脚本请求全部转发到 FastCGI 处理。使用 FastCGI 默认配置.</span></pre></td></tr><tr><td data-num="65"></td><td><pre>      <span class="token comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></pre></td></tr><tr><td data-num="66"></td><td><pre>      <span class="token comment">#</span></pre></td></tr><tr><td data-num="67"></td><td><pre>      <span class="token comment">#location ~ \.php$ &#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>      <span class="token comment">#       include snippets/fastcgi-php.conf;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>      <span class="token comment">#</span></pre></td></tr><tr><td data-num="70"></td><td><pre>      <span class="token comment">#       # With php7.0-cgi alone:</span></pre></td></tr><tr><td data-num="71"></td><td><pre>      <span class="token comment">#       fastcgi_pass 127.0.0.1:9000;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>      <span class="token comment">#       # With php7.0-fpm:</span></pre></td></tr><tr><td data-num="73"></td><td><pre>      <span class="token comment">#       fastcgi_pass unix:/run/php/php7.0-fpm.sock;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>      <span class="token comment">#&#125;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>      </pre></td></tr><tr><td data-num="76"></td><td><pre>      <span class="token comment"># 拒绝访问. htaccess 文件，如果 Apache 的文档根与 nginx 的一致</span></pre></td></tr><tr><td data-num="77"></td><td><pre>      <span class="token comment"># deny access to .htaccess files, if Apache's document root</span></pre></td></tr><tr><td data-num="78"></td><td><pre>      <span class="token comment"># concurs with nginx's one</span></pre></td></tr><tr><td data-num="79"></td><td><pre>      <span class="token comment">#</span></pre></td></tr><tr><td data-num="80"></td><td><pre>      <span class="token comment">#location ~ /\.ht &#123;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>      <span class="token comment">#       deny all;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>      <span class="token comment">#&#125;</span></pre></td></tr><tr><td data-num="83"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="配置https服务"><a class="anchor" href="#配置https服务">#</a> 配置 HTTPS 服务</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">##</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 80 port</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">##</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 默认服务器，丢弃缺乏 Host 头的请求</span></pre></td></tr><tr><td data-num="6"></td><td><pre>server <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>       listen <span class="token number">80</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>       <span class="token builtin class-name">return</span> <span class="token number">444</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>server <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        listen <span class="token number">80</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        sever_name example.com www.example.com<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>        rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$ https://<span class="token variable">$host</span><span class="token variable">$1</span> permanent<span class="token punctuation">;</span>  <span class="token comment">## 端口转发，301 重定向</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">##</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># 443 port</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">##</span></pre></td></tr><tr><td data-num="22"></td><td><pre>server <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    </pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token comment"># 阿里云参考配置</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    </pre></td></tr><tr><td data-num="28"></td><td><pre>    listen <span class="token number">443</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:443<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    server_name example.com www.example.com<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    </pre></td></tr><tr><td data-num="32"></td><td><pre>    root /var/www/example/<span class="token punctuation">;</span>    <span class="token comment"># 为虚拟服务器指明文档的根目录</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    index index.html index.htm<span class="token punctuation">;</span> <span class="token comment"># 给定 URL 文件</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    </pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token comment"># 部署 HTTP 严格传输安全（HSTS）</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    add_header Strict-Transport-Security <span class="token string">"max-age=31536000; includeSubDomains; preload;"</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    </pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token comment"># Note: You should disable gzip for SSL traffic.</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token comment"># See: https://bugs.debian.org/773332</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token function">gzip</span> off<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    </pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    <span class="token comment"># SSL configuration</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    </pre></td></tr><tr><td data-num="48"></td><td><pre>    ssl on<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    ssl_certificate   cert/certfile.pem<span class="token punctuation">;</span>    <span class="token comment"># 证书</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    ssl_certificate_key  cert/certfile.key<span class="token punctuation">;</span> <span class="token comment"># 私钥</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    ssl_session_timeout 5m<span class="token punctuation">;</span> <span class="token comment"># 设置超时时间</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token comment"># 密码套件配置</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token comment"># 密码套件名称构成：密钥交换 - 身份验证 - 加密算法（算法 - 强度 - 模式）-MAC 或 PRF</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    ssl_ciphers ECDHE-RSA-AES128-GCM- SHA256:ECDHE:ECDH:AES:HIGH:<span class="token operator">!</span>NULL:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>ADH:<span class="token operator">!</span>RC4<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="55"></td><td><pre>    ssl_protocols TLSv1.2<span class="token punctuation">;</span> <span class="token comment"># 设置 SSL/TSL 协议版本号</span></pre></td></tr><tr><td data-num="56"></td><td><pre>    ssl_prefer_server_ciphers on<span class="token punctuation">;</span> <span class="token comment"># 控制密码套件优先级，让服务器选择要使用的算法套件</span></pre></td></tr><tr><td data-num="57"></td><td><pre>    ssl_buffer_size <span class="token number">1400</span><span class="token punctuation">;</span> <span class="token comment"># 减少 TLS 缓冲区大小，可以显著减少首字节时间（《HTTPS 权威指南》P416）</span></pre></td></tr><tr><td data-num="58"></td><td><pre>    </pre></td></tr><tr><td data-num="59"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    <span class="token comment"># location configuration</span></pre></td></tr><tr><td data-num="61"></td><td><pre>    <span class="token comment">##</span></pre></td></tr><tr><td data-num="62"></td><td><pre>    </pre></td></tr><tr><td data-num="63"></td><td><pre>    <span class="token comment"># ...</span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="v118版本配置"><a class="anchor" href="#v118版本配置">#</a> V1.18 版本配置</h2><p>在 <code>/etc/nginx/conf.d</code>  目录下，复制 <code>default.conf</code>  然后配置一个端口 (开启 https), 例如把博客配置如下</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>server <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    listen       <span class="token number">82</span> ssl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    server_name  域名<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment">#charset koi8-r;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">#access_log  /var/log/nginx/host.access.log  main;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    ssl_certificate   /www/域名.pem<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    ssl_certificate_key  /www/域名.key<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    ssl_session_timeout 5m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:<span class="token operator">!</span>NULL:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>ADH:<span class="token operator">!</span>RC4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    ssl_prefer_server_ciphers on<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    location / <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        root   /www/blog<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        index  index.html index.htm<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>推荐<span class="exturl" data-url="aHR0cHM6Ly9tb3ppbGxhLmdpdGh1Yi5pby9zZXJ2ZXItc2lkZS10bHMvc3NsLWNvbmZpZy1nZW5lcmF0b3Iv"> HTTPS 自动化配置工具 Mozilla SSL Configuration Generator</span></p><h2 id="ngx_http_limit_req_module-模块"><a class="anchor" href="#ngx_http_limit_req_module-模块">#</a> ngx_http_limit_req_module 模块</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>http <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment"># 最大连接数</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment"># 分配一个共享内存区域，大小为 10M，限制下载连接数为 1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    limit_conn_zone <span class="token variable">$binary_remote_addr</span> <span class="token assign-left variable">zone</span><span class="token operator">=</span>connections:10m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment"># 最大并发数，每秒请求数（r/s），每分钟请求数（r/m）</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment"># 分配一个设置最大并发数的内存区域，大小 10M，limit_req 限制之前的请求速率 1 次 /s。</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment"># 使用 $binary_remote_addr 变量， 可以将每条状态记录的大小减少到 64 个字节，这样 1M 的内存可以保存大约 1 万 6 千个 64 字节的记录。</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    limit_req_zone <span class="token variable">$binary_remote_addr</span> <span class="token assign-left variable">zone</span><span class="token operator">=</span>requests:10m <span class="token assign-left variable">rate</span><span class="token operator">=</span>1r/s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment"># 设置日志记录级别</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment"># 当服务器因为频率过高拒绝或者延迟处理请求时可以记下相应级别的日志。</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    limit_req_log_level warn<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment"># immediately release socket buffer memory on timeout</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    reset_timedout_connection on<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>    server <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    </pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token comment"># 仅对 search URL 有效</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        location /search <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            </pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token comment"># 限制速率</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token comment"># 最大延迟请求数量 10 个，超过则返回状态码 503</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            limit_req <span class="token assign-left variable">zone</span><span class="token operator">=</span>requests <span class="token assign-left variable">burst</span><span class="token operator">=</span><span class="token number">3</span> nodelay<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        </pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token comment"># 限制客户端带宽，</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token comment"># 策略：允许小文件自由下载，但对于大文件则启用这种限制</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        location /downloads <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token comment"># 首先限制客户端的下载连接数为 1 </span></pre></td></tr><tr><td data-num="32"></td><td><pre>            limit_conn connections <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token comment"># 下载完 1M 内容之后，启用 limit_rate 限制。</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            limit_rate_after 1m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            </pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment"># 限制客户端下载下载内容的速率为 500k/s</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            limit_rate 500k<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="遗留问题"><a class="anchor" href="#遗留问题">#</a> 遗留问题</h2><p>如何只开一个端口 ssl，例如 82 端口，此时用 http://localhost:82 访问会报 400 错误，如何解决 http 跳转 https 协议是个问题。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="笔记" scheme="http://standalone.pub:4000/categories/notes/"/>
    
    <category term="软件配置" scheme="http://standalone.pub:4000/categories/notes/app-settings/"/>
    
    
    <category term="nginx" scheme="http://standalone.pub:4000/tags/nginx/"/>
    
    <category term="软件安装" scheme="http://standalone.pub:4000/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>parse-server</title>
    <link href="http://standalone.pub:4000/notes/app-settings/parse-server/"/>
    <id>http://standalone.pub:4000/notes/app-settings/parse-server/</id>
    <published>2018-06-18T04:49:39.000Z</published>
    <updated>2020-11-07T09:10:15.422Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="parse-server服务"><a class="anchor" href="#parse-server服务">#</a> Parse Server 服务</h1><h2 id="安装软件"><a class="anchor" href="#安装软件">#</a> 安装软件</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> i -g parse-server parse-dashboard</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># mongodb 数据依据 linux 发行版自行安装 (我是 arch linux)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># aur -S mongodb</span></pre></td></tr></table></figure><h3 id="启动服务"><a class="anchor" href="#启动服务">#</a> 启动服务</h3><ol><li>启动 MongoDB 数据库服务</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mongod --dbpath /your/path</pre></td></tr></table></figure><ol start="2"><li>创建一个数据库，并且创建一个数据库用户（即使是本地测试最起码也要创建一个账号，没有密码验证很容易被删库)</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mongo </pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>db.createUser<span class="token punctuation">(</span><span class="token punctuation">&#123;</span>user: <span class="token string">'username'</span>, pwd: <span class="token string">'password'</span>, roles: <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> role: <span class="token string">'dbOwner'</span>, db: <span class="token string">'dbname'</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 验证用户权限 1 为成功</span></pre></td></tr><tr><td data-num="5"></td><td><pre>db.auth<span class="token punctuation">(</span><span class="token string">'username'</span>, <span class="token string">'password'</span><span class="token punctuation">)</span></pre></td></tr></table></figure><ol start="3"><li>重启 mongodb 服务，开启验证</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mongod --dbpath /your/path --auth</pre></td></tr></table></figure><ol start="4"><li>登录数据库用户</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>Parse-server <span class="token operator">&amp;&amp;</span> Parse-dashboard</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>安装各项服务</pre></td></tr><tr><td data-num="4"></td><td><pre>安装所有包，和Mongodb数据库</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">npm</span> i -g parse-server parse-dashboard</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 直接使用包管理工具安装，各种发行版各有不同</span></pre></td></tr><tr><td data-num="8"></td><td><pre>aur -S mongodb</pre></td></tr><tr><td data-num="9"></td><td><pre>启动服务</pre></td></tr><tr><td data-num="10"></td><td><pre>启动MongoDB数据库服务</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>mongod --dbpath /your/path</pre></td></tr><tr><td data-num="13"></td><td><pre>创建一个数据库，并且创建一个数据库用户（即使是本地测试最起码也要创建一个账号，没有密码验证很容易被删库<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>mongo </pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>db.createUser<span class="token punctuation">(</span><span class="token punctuation">&#123;</span>user: <span class="token string">'username'</span>, pwd: <span class="token string">'password'</span>, roles: <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> role: <span class="token string">'dbOwner'</span>, db: <span class="token string">'dbname'</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># 验证用户权限 1 为成功</span></pre></td></tr><tr><td data-num="19"></td><td><pre>db.auth<span class="token punctuation">(</span><span class="token string">'username'</span>, <span class="token string">'password'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>重启mongodb服务，开启验证</pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>mongod --dbpath /your/path --auth</pre></td></tr><tr><td data-num="23"></td><td><pre>登录用户</pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>mongo -u <span class="token string">'username'</span> -p <span class="token string">'password'</span> --authenticationDatabase <span class="token string">'dbname'</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment"># 也可以直接登录后验证</span></pre></td></tr><tr><td data-num="27"></td><td><pre>mongo</pre></td></tr><tr><td data-num="28"></td><td><pre>db.auth<span class="token punctuation">(</span><span class="token string">'username'</span>, <span class="token string">'password'</span><span class="token punctuation">)</span></pre></td></tr></table></figure><ol start="5"><li>启动 Parse-Server<br /> 创建配置文件 config.json</li></ol><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token property">"appId"</span><span class="token operator">:</span> <span class="token string">"id"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token property">"masterKey"</span><span class="token operator">:</span> <span class="token string">"masterkeytest"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token property">"databaseURI"</span><span class="token operator">:</span> <span class="token string">"mongodb://username:password@localhost:27017/parse"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">1314</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token property">"serverURL"</span><span class="token operator">:</span> <span class="token string">"http://localhost:1314/parse"</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>启动</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>parse-server config.json</pre></td></tr></table></figure><ol start="6"><li>启动 parss-dashboard<br /> 创建对应配置文件 config.json</li></ol><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">"apps"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token property">"serverURL"</span><span class="token operator">:</span> <span class="token string">"http://localhost:1337/parse"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token property">"appId"</span><span class="token operator">:</span> <span class="token string">"id"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token property">"masterKey"</span><span class="token operator">:</span> <span class="token string">"masterkeytest"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token property">"appName"</span><span class="token operator">:</span> <span class="token string">"name"</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token property">"users"</span><span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token punctuation">&#123;</span>   </pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token property">"user"</span><span class="token operator">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token property">"pass"</span><span class="token operator">:</span><span class="token string">"admin"</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">&#125;</span>   </pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>启动</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>parse-dashboard --config config.json</pre></td></tr></table></figure><p>最后你应该能在 4040 端口访问到对应的图形界面后台。还有很多可选参数，详细查阅官方配置.</p><h2 id="快捷启动"><a class="anchor" href="#快捷启动">#</a> 快捷启动</h2><p>每次启动都要开好几个终端输命令太麻烦了，使用 tmux 快捷启动，并且还可以保证用 ssh 可以访问 (这个每个人的配置不一样)</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>tmux has session -t ParseServer</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">]</span> </pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">then</span> </pre></td></tr><tr><td data-num="4"></td><td><pre>        tmux new-session -s ParseServer -n work -d</pre></td></tr><tr><td data-num="5"></td><td><pre>        tmux split-window -h -p <span class="token number">76</span> -t ParseServer </pre></td></tr><tr><td data-num="6"></td><td><pre>        tmux split-window -v -p <span class="token number">85</span> -t ParseServer </pre></td></tr><tr><td data-num="7"></td><td><pre>        tmux split-window -v -p <span class="token number">40</span> -t ParseServer </pre></td></tr><tr><td data-num="8"></td><td><pre>        tmux send-keys -t ParseServer:1.4 <span class="token string">'mongod --auth --dbpath ~/Documents/mongodb/db'</span> C-m</pre></td></tr><tr><td data-num="9"></td><td><pre>        tmux send-keys -t ParseServer:1.3 <span class="token string">'parse-server ~/Documents/parse/server-config.json'</span> C-m</pre></td></tr><tr><td data-num="10"></td><td><pre>        tmux send-keys -t ParseServer:1.2 <span class="token string">'parse-dashboard --config ~/Documents/parse/dashborad-config.json'</span> C-m</pre></td></tr><tr><td data-num="11"></td><td><pre>        tmux send-keys -t ParseServer:1.1 <span class="token string">'screenfetch | lolcat'</span> C-m </pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">fi</span></pre></td></tr><tr><td data-num="13"></td><td><pre>tmux attach -t ParseServer</pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="笔记" scheme="http://standalone.pub:4000/categories/notes/"/>
    
    <category term="软件配置" scheme="http://standalone.pub:4000/categories/notes/app-settings/"/>
    
    
    <category term="Parse-Server" scheme="http://standalone.pub:4000/tags/Parse-Server/"/>
    
    <category term="Parse-Dashboard" scheme="http://standalone.pub:4000/tags/Parse-Dashboard/"/>
    
  </entry>
  
</feed>
